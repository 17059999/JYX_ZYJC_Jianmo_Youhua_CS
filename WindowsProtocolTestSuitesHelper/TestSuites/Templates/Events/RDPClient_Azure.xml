<lab>
  <core>
    <username>IOLab</username>
    <password>Password01!</password>
    <TestSuiteName>RDPClient_DotNetCore_CompressionDisable</TestSuiteName>
    <regressiontype>Azure</regressiontype>
    <timeoutinminutes>850</timeoutinminutes>
  </core>
  <vmsetting>
    <location>West US 2</location>
    <networkId>vnet</networkId>
    <subnetName>default</subnetName>
    <resourceGroup>TestSuiteOnAzure</resourceGroup>
    <vaultName>TestSuiteBackupKeyVault</vaultName>
    <diskType>Premium_LRS</diskType>
    <vmSize>Standard_D2s_v3</vmSize>
    <fileShareRoot>https://testsuiteshare.file.core.windows.net/protocoltestsuiteshare</fileShareRoot>
    <genevaAccountRegion>westus2</genevaAccountRegion>
  </vmsetting>
  <Parameters>
    <!--Parameters for automation run-->
  </Parameters>
  <servers>
    <vm>
      <role>SUT</role>
      <imageReference>
        <publisher>MicrosoftWindowsDesktop</publisher>
        <offer>Windows-10</offer>
        <sku>RS5-Pro</sku>
        <!-- always latest -->
        <version>latest</version>
      </imageReference>
      <name>RDPC-Client01</name>
	    <LMSName>Client:1</LMSName>
      <domain>workgroup</domain>
      <ip>10.2.0.12</ip>
      <skipwaitingforpostscript>true</skipwaitingforpostscript>
      <postscript>Disable_Firewall.ps1;SetPasswordNeverExpires.ps1;InstallMSIAndTools.ps1;Set-StartCommand.ps1;Start-Desktop.ps1;Set-Display.ps1;Setup-VHID.ps1;Create-TouchTask.ps1;Write-InstallDoneSignal.ps1;Write-InstallPostScriptDoneSignal.ps1;Config-AuthorizedKeys.ps1;InstallSUTControllerAdapter.ps1</postscript>
      <installfeaturescript>Enable-TestSignning.ps1;Enable-USBRedirection.ps1;Write-InstallFeatureScirptDone.ps1</installfeaturescript>
      <installorder>2</installorder>
      <tools>
        <tool name="PowerShellCore" MSIName="PowerShell-7.4.1-win-x64.msi" version="7.4.1" CPUArchitecture="x64" />
        <tool name="Win32-OpenSSH" ZipName="OpenSSH-Win64.zip" version="v9.2.2.0p1-Beta" CPUArchitecture="x64" targetFolder="c:\" />
        <tool name="Win32-OpenSSH-Certs" ZipName="win_ssh_keys.zip" targetFolder="c:\OpenSSH-Win64" installScript="install.ps1" />
        <tool name="JRE" EXEName="jre-8u251-windows-x64.exe" version="8u251" CPUArchitecture="x64" ArgumentList="/s /L C:\jre-8u251-windows-x64.log" />
        <tool name="Python" EXEName="python-3.8.2.exe" version="3.8.2" CPUArchitecture="x64" ArgumentList="/quiet InstallAllUsers=1 PrependPath=1 Include_test=0" />
        <TestsuiteZip ZipName="RDP-TestSuite-ClientEP.zip" targetFolder="c:\RDP-TestSuite-ClientEP"/>
      </tools>
    </vm>
    <vm>
      <role>DriverComputer</role>
      <imageReference>
        <imageRefId>Server2019RS5_VS2017</imageRefId>
      </imageReference>
      <name>RDPC-Server01</name>
      <LMSName>Server:1</LMSName>
      <domain>workgroup</domain>
      <ip>10.2.0.11</ip>
      <RDPListeningPort>3389</RDPListeningPort>
      <skipwaitingforpostscript>true</skipwaitingforpostscript>
      <postscript>Disable_Firewall.ps1;SetPasswordNeverExpires.ps1;InstallMSIAndTools.ps1;Write-InstallDoneSignal.ps1;Write-InstallPostScriptDoneSignal.ps1;Config-RSAKeys.ps1</postscript>
      <installorder>1</installorder>
      <tools>
        <tool name="DotNetCore" EXEName="dotnet-sdk-latest.exe" version="Latest" CPUArchitecture="x64" ArgumentList="/quiet"/>
        <tool name="Win32-OpenSSH" ZipName="OpenSSH-Win64.zip" version="v9.2.2.0p1-Beta" CPUArchitecture="x64" targetFolder="c:\" />
        <tool name="Win32-OpenSSH-Certs" ZipName="win_ssh_keys.zip" targetFolder="c:\OpenSSH-Win64" installScript="install.ps1" />
        <tool name="PowerShellCore" MSIName="PowerShell-7.4.1-win-x64.msi" version="7.4.1" CPUArchitecture="x64" />
        <tool name="certs" ZipName="id_rsa.zip" targetFolder="C:\id_rsa\.ssh" />
        <TestsuiteZip ZipName="RDP-TestSuite-ClientEP.zip" targetFolder="c:\RDP-TestSuite-ClientEP"/>
        <tool name="PTF" MSIName="ProtocolTestFrameworkInstaller.msi" version="1.0.7500.0" CPUArchitecture="x86" />
        <tool name="PTM" MSIName="ProtocolTestManager.msi" version="4.21.1.0" />
        <tool name="PTMCLI" ZipName="PTMCli.zip" targetFolder="C:\PTMCli" />
      </tools>
    </vm>
  </servers>
</lab>