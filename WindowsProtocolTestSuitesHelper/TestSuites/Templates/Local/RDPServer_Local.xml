<lab>
  <core>
    <username>administrator</username>
    <password>Password01!</password>
    <basecpu>4</basecpu>
    <TestSuiteName>RDPServer_DotNetCore</TestSuiteName>
    <Description>RDP Server Environment</Description>
    <regressiontype>local</regressiontype>
    <timeoutinminutes>150</timeoutinminutes>
  </core>
  <network>
    <vnet>
      <hostisgateway>true</hostisgateway>
      <name>RDPServer_Internal</name>
      <networktype>Internal</networktype>
      <ip>192.168.172.250</ip>
      <subnet>255.255.255.0</subnet>
    </vnet>
  </network>

  <Parameters>
    <!--Parameters for automation run-->
    <Parameter Name="FilterToRun" Value="TestCategory!=SUTOperationNeeded" Comment="Case Filter" />
  </Parameters>

  <servers>
    <vm>
      <role>SUT</role>
      <imageReference>
        <diskName>17763.194.amd64fre.rs5_release.VS2017-ServerDataCenter.vhd</diskName>
        <answerFile>17763_ServerDataCenter.xml</answerFile>
      </imageReference>
      <installorder>1</installorder>
      <hypervname>RDPServer_Server</hypervname>
      <name>RDPServer</name>
      <LMSName>Server:1</LMSName>
      <domain>workgroup</domain>
      <vnet>RDPServer_Internal</vnet>
      <ip>192.168.172.1</ip>
      <gateway>Empty</gateway>
      <dns>Empty</dns>
      <memory>2048</memory>
      <restartinpostscript>true</restartinpostscript>
      <skipwaitingforpostscript>true</skipwaitingforpostscript>
      <postscript>Disable_Firewall.ps1;SetPasswordNeverExpires.ps1;PostConfig-SUT.ps1</postscript>
    </vm>
    <vm>
      <role>DriverComputer</role>
      <imageReference>
        <diskName>MicrosoftWindowsServer</diskName>
        <answerFile>WindowsServer</answerFile>
      </imageReference>
      <installorder>2</installorder>
      <hypervname>RDPServer_Client</hypervname>
      <name>RDPClient</name>
      <LMSName>Client:1</LMSName>
      <domain>workgroup</domain>
      <vnet>RDPServer_Internal</vnet>
      <ip>192.168.172.101</ip>
      <gateway>Empty</gateway>
      <dns>Empty</dns>
      <memory>4096</memory>
      <restartinpostscript>true</restartinpostscript>
      <skipwaitingforpostscript>false</skipwaitingforpostscript>
      <postscript>Disable_Firewall.ps1;SetPasswordNeverExpires.ps1;InstallMSIAndTools.ps1;Enable-WinRM.ps1;Update-VisualStudioLicense.ps1;PostConfig-Driver.ps1</postscript>
      <tools>
        <tool name="DotNetCore" EXEName="dotnet-sdk-latest.exe" version="Latest" CPUArchitecture="x64" ArgumentList="/quiet"/>
        <TestsuiteZip ZipName="RDP-TestSuite-ServerEP.zip" targetFolder="c:\RDP-TestSuite-ServerEP"/>
      </tools>
    </vm>
  </servers>
</lab>
